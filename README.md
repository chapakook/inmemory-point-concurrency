# In-Memory Point System (Concurrency Safe)

λ©€ν‹°μ¤λ λ“ ν™κ²½μ—μ„ **ν¬μΈνΈ μ¶©μ „Β·μ‚¬μ© μ”μ²­μ΄ λ™μ‹μ— λ°μƒν•΄λ„ μΌκ΄€λ μ”μ•΅μ„ λ³΄μ¥ν•λ”**
μΈλ©”λ¨λ¦¬ ν¬μΈνΈ μ‹μ¤ν…μ…λ‹λ‹¤.

λ³Έ ν”„λ΅μ νΈλ” νΉμ • κΈ°μ μ„ μ†κ°ν•λ” κ²ƒμ΄ μ•„λ‹λΌ,
**λ„λ©”μΈ κ΄€μ μ—μ„μ λ™μ‹μ„± λ¬Έμ λ¥Ό μ–΄λ–»κ² μ •μν•κ³  ν•΄κ²°ν•λ”μ§€**λ¥Ό μ½”λ“μ™€ ν…μ¤νΈλ΅ κ²€μ¦ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.

---

## π“ λ©μ 

- ν¬μΈνΈ λ„λ©”μΈμ—μ„ λ°μƒν•λ” λ€ν‘μ μΈ λ™μ‹μ„± λ¬Έμ λ¥Ό λ…ν™•ν μ •μ
- μ™Έλ¶€ μ €μ¥μ† μ—†μ΄ **λ©”λ¨λ¦¬ μƒνƒλ§μΌλ΅λ„ μΌκ΄€μ„±μ„ μ μ§€ν•λ” μ„¤κ³„**λ¥Ό κµ¬ν„
- λ‹¨μ„ ν…μ¤νΈμ™€ λ©€ν‹°μ¤λ λ“ ν…μ¤νΈλ¥Ό ν†µν•΄ κ²°κ³Όμ μ‹ λΆ°μ„±μ„ κ²€μ¦

---

## π§© λ¬Έμ  μ •μ

ν¬μΈνΈ μ‹μ¤ν…μ€ μ•„λμ™€ κ°™μ€ νΉμ„±μ„ κ°€μ§‘λ‹λ‹¤.

- λ™μΌ μ‚¬μ©μμ— λ€ν• μ”μ²­μ΄ **λ™μ‹μ—** λ“¤μ–΄μ¬ μ μλ‹¤.
- μ”μ•΅ ν™•μΈκ³Ό μ°¨κ°μ€ **λ…Όλ¦¬μ μΌλ΅ ν•λ‚μ ν–‰μ„**μ΄λ‹¤.
- μ¶©μ „κ³Ό μ‚¬μ©μ΄ κ²½μν•λ©΄ κ²°κ³Όλ” **κ²°μ •μ (deterministic)** μ΄μ–΄μ•Ό ν•λ‹¤.

μ΄λ¥Ό μ λ€λ΅ μ²λ¦¬ν•μ§€ μ•μΌλ©΄ λ‹¤μ λ¬Έμ κ°€ λ°μƒν•λ‹¤.

- μ”μ•΅μ΄ μμκ°€ λλ” λ¬Έμ 
- ν¬μΈνΈ μ‚¬μ©μ΄ μ¤‘λ³µ μ„±κ³µν•λ” λ¬Έμ 
- μ¶©μ „/μ‚¬μ© λ‚΄μ—­μ΄ μ‹¤μ  μ”μ•΅κ³Ό λ¶μΌμΉν•λ” λ¬Έμ 

λ³Έ ν”„λ΅μ νΈλ” μ΄λ¬ν• λ¬Έμ λ¥Ό **λ„λ©”μΈ κ·μΉ™μ„ κΉ¨μ§€ μ•μΌλ©΄μ„** ν•΄κ²°ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•λ‹¤.

---

## π”’ κµ¬ν„ μ μ•½

- λ©”λ¨λ¦¬ λ‚΄ μƒνƒ κ΄€λ¦¬(μΈλ©”λ¨λ¦¬)λ΅λ§ κµ¬ν„
- μ™Έλ¶€ DB / Redis / Kafka λ“± μ‚¬μ© κΈμ§€
- μ”μ²­ μμ„μ— μμ΅΄ν•μ§€ μ•κ³  ν•­μƒ κ°™μ€ κ²°κ³Όλ¥Ό λ³΄μ¥ν•΄μ•Ό ν•¨
- λ‹¨μ„ ν…μ¤νΈ + λ©€ν‹°μ¤λ λ“ λ™μ‹μ„± ν…μ¤νΈ ν•„μ

---

## π API μ”κµ¬μ‚¬ν•­

### ν¬μΈνΈ API

- `PATCH /point/{id}/charge`
  ν¬μΈνΈλ¥Ό μ¶©μ „ν•λ‹¤.

- `PATCH /point/{id}/use`
  ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ‹¤.

- `GET /point/{id}`
  ν„μ¬ ν¬μΈνΈ μ”μ•΅μ„ μ΅°νν•λ‹¤.

- `GET /point/{id}/histories`
  ν¬μΈνΈ μ¶©μ „/μ‚¬μ© λ‚΄μ—­μ„ μ΅°νν•λ‹¤.

- μ”κ³ κ°€ λ¶€μ΅±ν•  κ²½μ°, ν¬μΈνΈ μ‚¬μ©μ€ λ°λ“μ‹ μ‹¤ν¨ν•΄μ•Ό ν•λ‹¤.
